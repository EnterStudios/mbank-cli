mbank-cli (1.0) UNRELEASED; urgency=low

  This version of mbank-cli has been rewritten (almost) from scratch.
  It uses https://online.mbank.pl/ (or https://online.mbank.cz/, or
  https://online.mbank.sk) as the web backend.

  The new code is available under the permissive Expat (a.k.a. MIT) license.

  The old version of mbank-cli, which uses the old interface at
  https://www.mbank.com.pl/, is still available, but it is no longer
  developed.

  Changes to the user interface:

  * The default configuration file location has changed: it's now it
    ~/.config/mbank-cli/config or $XDG_CONFIG_HOME/mbank-cli/config.
    This change make it feasible to install mbank-cli system-wide.

  * Some aspects of the configuration file syntax has changed:
    + Any part of the configuration file can be now GnuPG-encrypted, not
      necessarily the whole file.
    + The encrypted parts are now required to be ASCII-armored (--armor).
    + Comments (lines starting with the “#” character) are now allowed.

  * The --cookie-jar option has been removed.
    Users must set path to session cookie storage file in the configuration
    file instead.

  * The feature of automatic re-logging when the configuration file changes
    has been removed. Users must now use different session cookie storage
    files for different bank accounts.

  * Slovak and Czech mBank interfaces are now supported.
    Users must set their country in the configuration file.

  * The “configure” command has been added.

  * The “cards” command has been added.

  * The “--range <date1> <date2>” option has been removed.
    Users should use “--from <date1> --to <date2>” instead.
    “now” is no longer accepted as a valid date.

  * Output format for the “deposits” command have changed:
    + The <status> column has been removed.

  * Output format for the “funds” command have changed:
    + The optional <planned-amount> column has been added.

  * The “rename” and “void” have been removed.

  * New exit codes:
    + 4 for system-related errors and I/O errors;
    + 255 for internal errors.

  Bug fixes:

  * mbank-cli 20140505 died with “only SSL_ca_path or SSL_ca_file should be
    given” when used together with IO::Socket::SSL between v1.87 and v1.972
    (inclusive), e.g. on Ubuntu 14.04 LTS (Trusty Tahr):
    https://code.google.com/p/mbank-cli/issues/detail?id=51
    This bug is now fixed.

  * Previous versions of mbank-cli ignored write errors (e.g. ENOSPC).
    This bug is now fixed.

  * Previous versions of mbank-cli exited with a different (non-zero) exit
    code than it was documented in some pathological circumstances.
    This bug should be now fixed.

 -- Jakub Wilk <jwilk@jwilk.net>  Tue, 10 Jun 2014 12:18:09 +0200

mbank-cli (20140505) unstable; urgency=low

  Security improvements:

  * mbank-cli now uses IO::Socket::SSL (rather that Net::SSL aka
    Crypt::SSLeay) as the SSL/TLS backend.

  * mbank-cli no longer trusts any certificate authorities, except for VeriSign
    Class 3 Public Primary Certification Authority.

 -- Jakub Wilk <jwilk@jwilk.net>  Mon, 05 May 2014 18:36:43 +0200

mbank-cli (20120704) unstable; urgency=low

  The “withholdings” command has been renamed to “blocked”.

 -- Jakub Wilk <jwilk@jwilk.net>  Sat, 04 Aug 2012 23:07:47 +0200

mbank-cli (20120617) unstable; urgency=high

  * mbank-cli no longer creates debug files automatically by default. Use the
    --debug option to enable this feature.

  * Due to a bug in the LWP module, if the IO::Socket::SSL module was
    installed, mbank-cli did not verify the SSL certificate, making
    man-in-the-middle attacks feasible. This bug is now fixed.

    Please consult the SECURITY file for details.

 -- Jakub Wilk <jwilk@jwilk.net>  Sun, 17 Jun 2012 11:23:16 +0200

mbank-cli (20110215) unstable; urgency=medium

  mbank-cli did not ensure that files (including some of security-sensitive
  nature, e.g. the cookie jar) are created with secure permissions. This bug
  is now fixed.

  Please consult the SECURITY file for details.

 -- Jakub Wilk <jwilk@jwilk.net>  Wed, 15 Feb 2012 22:21:37 +0100

mbank-cli (20091208) unstable; urgency=high

  mbank-cli did not check whether the server hostname matches the Common Name
  (CN) of the SSL certificate, making man-in-the-middle attacks feasible. This
  bug is now fixed.

  Please consult the SECURITY file for details.

 -- Jakub Wilk <jwilk@jwilk.net>  Tue, 08 Dec 2009 19:54:26 +0100
